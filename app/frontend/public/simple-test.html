<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple SDK Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .log { background: #f5f5f5; padding: 10px; margin: 10px 0; border-radius: 3px; font-family: monospace; }
        .error { color: red; }
        .success { color: green; }
    </style>
</head>
<body>
    <h1>Simple SDK Test</h1>
    <div id="results" class="log">Testing SDK import...</div>

    <script type="module">
        const resultsDiv = document.getElementById('results');
        
        function log(message, type = 'log') {
            const color = type === 'error' ? 'error' : 'success';
            resultsDiv.innerHTML += `<div class="${color}">${message}</div>`;
            console.log(message);
        }

        try {
            log('Starting SDK import test...');
            
            // Test 1: Try to import the SDK
            log('Attempting to import RealtimeAgent and RealtimeSession...');
            
            const { RealtimeAgent, RealtimeSession } = await import('https://cdn.jsdelivr.net/npm/@openai/agents-realtime@latest/+esm');
            
            log('✓ SDK import successful!');
            log(`RealtimeAgent type: ${typeof RealtimeAgent}`);
            log(`RealtimeSession type: ${typeof RealtimeSession}`);
            
            // Test 2: Try to create an agent
            log('Testing agent creation...');
            
            const agent = new RealtimeAgent({
                name: 'Test Agent',
                instructions: 'You are a test agent.',
                voice: 'alloy',
                interruptible: true
            });
            
            log('✓ Agent created successfully!');
            log(`Agent voice: ${agent.voice}`);
            log(`Agent name: ${agent.name}`);
            log(`Agent instructions: ${agent.instructions}`);
            
            // Test 3: Check agent properties
            log('Agent properties: ' + Object.keys(agent).join(', '));
            log('Agent methods: ' + Object.getOwnPropertyNames(Object.getPrototypeOf(agent)).join(', '));
            
            // Test 4: Try different voices (prioritize new voices)
            const voices = ['cedar', 'marin', 'alloy', 'echo', 'fable', 'onyx', 'nova', 'shimmer'];
            log('Testing different voices...');
            log('Note: New voices (Cedar, Marin) are recommended for Realtime API');
            
            for (const voice of voices) {
                try {
                    const testAgent = new RealtimeAgent({
                        name: 'Test Agent',
                        instructions: 'You are a test agent.',
                        voice: voice,
                        interruptible: true
                    });
                    const isNewVoice = voice === 'cedar' || voice === 'marin';
                    const status = isNewVoice ? '✓ (NEW)' : '✓ (legacy)';
                    log(`${status} Voice '${voice}' works`);
                } catch (error) {
                    log(`✗ Voice '${voice}' failed: ${error.message}`, 'error');
                }
            }
            
        } catch (error) {
            log(`✗ SDK import failed: ${error.message}`, 'error');
            log(`Error details: ${error.stack}`, 'error');
        }
    </script>
</body>
</html>